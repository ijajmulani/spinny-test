(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=(a(13),a(1)),u=a(4),l=a(3),s=a(2),h=(a(14),a(5)),m=(a(15),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={searchQuery:e.searchQuery},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSearchEvent(this.state.searchQuery)}},{key:"render",value:function(){var e=this.state.searchQuery;return r.a.createElement("header",{className:"header-section"},r.a.createElement("form",{className:"search-wrapper",onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("input",{className:"search-input",type:"text",placeholder:"search for an anime, e.g Naruto",name:"query",value:e,onChange:this.handleChange})),r.a.createElement("input",{className:"search-btn",type:"submit",value:"Go"})))}}]),a}(r.a.Component)),d=(a(16),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.title,a=e.url,n=e.image_url;return r.a.createElement("a",{href:a,className:"card"},r.a.createElement("div",{className:"thumb"},r.a.createElement("img",{loading:"lazy",src:n,alt:t})),r.a.createElement("div",{className:"detail-box"},r.a.createElement("span",{className:"title"},t)))}}]),a}(r.a.Component)),p=(a(17),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader",id:"loader"})}}]),a}(r.a.Component)),f=(a(18),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("div",null,"No Matches Found"),r.a.createElement("span",null,"Please try another search"))}}]),a}(r.a.Component)),v=(a(19),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onLoadMoreClick=function(t){e.props.onLoadMoreEvent()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.isEnd,c=e.displayNotFound;return r.a.createElement(r.a.Fragment,null,a&&a.length?r.a.createElement("div",null,r.a.createElement("div",{className:"card-container"},a.map((function(e){return r.a.createElement(d,{key:e.mal_id,data:e})}))),n||t?null:r.a.createElement("button",{className:"load-more-btn",onClick:this.onLoadMoreClick},"Load More")):null,t?r.a.createElement(p,null):null,a&&0===a.length&&c&&!t?r.a.createElement(f,null):null)}}]),a}(r.a.Component)),b="https://api.jikan.moe",y=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getDataByQuery=function(t,a,n){return new Promise((function(r,c){e.getData("/v3/search/anime?q=".concat(t,"&limit=").concat(n,"&page=").concat(a),(function(e){return c(e)}),(function(e){return r(e)}))}))},e}return a}((function e(){var t=this;Object(i.a)(this,e),this.getData=function(e,a,n){var r=fetch("".concat(b).concat(e));t.onResponseReceipt(r,a,n)},this.onResponseReceipt=function(e,t,a){e.then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){t({error:e})}))}})),E=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).limit=20,n.pageNumber=1,n.onSearchEvent=function(e){n.pageNumber=1;var t=e.trim();t.length<3?alert("Error: Requires atleast 3 or more characters"):(n.setState({loading:!0,results:[],searchQuery:t}),n.fetchData(t))},n.onLoadMoreEvent=function(){n.setState({loading:!0}),n.pageNumber++,n.fetchData(n.state.searchQuery)},n.fetchData=function(e){n.animeCommunication.getDataByQuery(e,n.pageNumber,n.limit).then((function(e){var t=e.results||[];n.setState((function(a){return{results:a.results.concat(t),loading:!1,isEnd:e.last_page===n.pageNumber}}))})).catch((function(e){n.setState({results:[],loading:!1,isEnd:!1})}))},n.animeCommunication=new y;var r=new URLSearchParams(window.location.search).get("query");return n.state={results:[],loading:!1,isEnd:!1,searchQuery:r.trim()},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.state.searchQuery&&this.onSearchEvent(this.state.searchQuery)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.results,n=e.isEnd,c=e.searchQuery;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{onSearchEvent:this.onSearchEvent,searchQuery:c}),r.a.createElement("div",{className:"container"},r.a.createElement(v,{data:a,loading:t,isEnd:n,onLoadMoreEvent:this.onLoadMoreEvent,displayNotFound:""!==this.state.searchQuery})))}}]),a}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.9fe9b06e.chunk.js.map