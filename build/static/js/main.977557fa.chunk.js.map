{"version":3,"sources":["components/Header/Header.js","components/ListItem/ListItem.js","components/Loader/Loader.js","components/NotFound/NotFound.js","components/Lists/Lists.js","common/config.js","communications/anime_communication.js","common/base_data_service.js","components/App/App.js","index.js"],"names":["Header","props","state","searchQuery","handleChange","bind","handleSubmit","e","this","setState","target","value","preventDefault","onSearchEvent","className","onSubmit","type","placeholder","name","onChange","React","Component","ListItem","data","title","url","image_url","href","loading","src","alt","Loader","id","NotFound","Lists","onLoadMoreClick","onLoadMoreEvent","isEnd","displayNotFound","Fragment","length","map","item","key","mal_id","onClick","AppConfig","AnimeCommunication","getDataByQuery","query","pageNumber","limit","Promise","resolve","reject","getData","err","res","methodName","onError","onSuccess","responsePromise","fetch","onResponseReceipt","then","response","json","responseJson","catch","exception","error","App","trim","alert","results","fetchData","animeCommunication","resp","concat","last_page","URLSearchParams","window","location","search","get","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.977557fa.chunk.js","sourcesContent":["import React from 'react';\nimport './Header.css'\n\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchQuery: props.searchQuery,\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({searchQuery: e.target.value});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.props.onSearchEvent(this.state.searchQuery);\n  }\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className=\"header-section\">\n        <form className=\"search-wrapper\" onSubmit={this.handleSubmit}>\n          <label>\n            <input className=\"search-input\"  type=\"text\" placeholder=\"search for an anime, e.g Naruto\" name=\"query\" value={searchQuery} onChange={this.handleChange} />\n          </label>\n          <input className=\"search-btn\" type=\"submit\" value=\"Go\" />\n        </form>\n      </header>\n    );\n  }\n}","import React from 'react';\nimport './ListItem.css';\n\n\nexport default class ListItem extends React.Component {\n  render() {\n    const {title, url, image_url} = this.props.data;\n    return (\n      <a href={url} className=\"card\">\n        <div className=\"thumb\">\n          <img loading=\"lazy\" src={image_url} alt={title} />\n        </div>\n        <div className=\"detail-box\">\n          <span className=\"title\">{title}</span> \n        </div>\n      </a>\n    );\n  }\n}","import React from 'react';\nimport './Loader.css';\n\nexport default class Loader extends React.Component {\n  render() {\n    return (\n      <div className=\"loader\" id=\"loader\"></div>\n    );\n  }\n}","import React from 'react';\nimport './NotFound.css';\n\n\nexport default class NotFound extends React.Component {\n  render() {\n    return (\n      <div className=\"not-found\">\n        <div>No Matches Found</div>\n        <span>Please try another search</span>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ListItem from '../ListItem/ListItem';\nimport Loader from '../Loader/Loader';\nimport NotFound from '../NotFound/NotFound';\nimport './Lists.css';\n\n\nexport default class Lists extends React.Component {\n  \n  onLoadMoreClick = (e) => {\n    this.props.onLoadMoreEvent();\n  }\n\n  render() {\n    const {loading, data, isEnd, displayNotFound} = this.props;\n    return (\n      <React.Fragment>\n        {data && data.length ? (\n          <div>\n            <div className='card-container'>\n              {data.map((item) => (\n                <ListItem key={item.mal_id} data={item} />\n              ))}\n            </div>\n            {isEnd || loading ? null : (<button className=\"load-more-btn\" onClick={this.onLoadMoreClick}>Load More</button>) }\n          </div>\n\n        )  : null}\n        {loading ? <Loader /> : null}\n        {data && data.length === 0 && displayNotFound && !loading ? <NotFound /> : null}\n      </React.Fragment>\n    );\n\n\n\n  }\n}","export const AppConfig = {\n  BaseAPI: 'https://api.jikan.moe',\n}","import BaseDataService from '../common/base_data_service';\n\nexport default class AnimeCommunication extends BaseDataService {\n  getDataByQuery = (query, pageNumber, limit) => {\n    return new Promise((resolve, reject) => {\n      this.getData(\n        `/v3/search/anime?q=${query}&limit=${limit}&page=${pageNumber}`,\n        err => reject(err),\n        res => resolve(res),\n      );\n    })\n  }\n}\n","import { AppConfig } from \"./config\";\r\n\r\nexport default class BaseDataService {\r\n\r\n  getData = (methodName, onError, onSuccess) => {\r\n    const appConfig = AppConfig.BaseAPI;\r\n    const responsePromise = fetch(`${appConfig}${methodName}`)\r\n    this.onResponseReceipt(responsePromise, onError, onSuccess);\r\n  }\r\n\r\n  onResponseReceipt = (responsePromise, onError, onSuccess) => {\r\n    responsePromise.then(response => {\r\n      return response.json()\r\n    }).then(responseJson => {\r\n      onSuccess(responseJson);\r\n    }).catch(exception => {\r\n      onError({ error: exception });\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Header from '../Header/Header';\nimport List from '../Lists/Lists';\nimport AnimeCommunication from '../../communications/anime_communication';\n\nclass App extends React.Component {\n  animeCommunication;\n  limit = 20;\n  pageNumber = 1;\n\n  constructor(props) {\n    super(props);\n    this.animeCommunication = new AnimeCommunication();\n    const searchParams = new URLSearchParams(window.location.search);\n    const query = searchParams.get(\"query\");\n\n    this.state = {\n      results: [], \n      loading : false,\n      isEnd: false,\n      searchQuery: query ? query.trim() : '',\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.searchQuery) {\n      this.onSearchEvent(this.state.searchQuery);\n    }\n  }\n\n  onSearchEvent = (query) => {\n    this.pageNumber = 1;\n    const searchQuery = query.trim();\n    if (searchQuery.length < 3) {\n      alert(\"Error: Requires atleast 3 or more characters\");\n      return\n    }\n\n    this.setState({\n      loading: true,\n      results: [],\n      searchQuery: searchQuery,\n    });\n    this.fetchData(searchQuery);\n  } \n\n  onLoadMoreEvent = () => {\n    this.setState({\n      loading: true,\n    });\n    this.pageNumber++;\n    this.fetchData(this.state.searchQuery);\n  }\n\n  fetchData = (query) => {\n    this.animeCommunication.getDataByQuery(query, this.pageNumber, this.limit).then((resp) => {\n      const data = resp.results || [];\n      this.setState((state) => ({\n        results: state.results.concat(data),\n        loading: false,\n        isEnd: resp.last_page === this.pageNumber,\n      }));\n    }).catch(error => {\n      this.setState({\n        results: [],\n        loading: false,\n        isEnd: false,\n      });\n    });\n  }\n\n  render() {\n    const {loading, results, isEnd, searchQuery}  = this.state;\n    return (\n      <React.Fragment>\n        <Header onSearchEvent={this.onSearchEvent} searchQuery={searchQuery} />\n        <div className='container'>\n          <List data={results} loading={loading} isEnd={isEnd} onLoadMoreEvent={this.onLoadMoreEvent} displayNotFound={this.state.searchQuery !== \"\"} />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}